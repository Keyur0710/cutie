<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Cutie</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body{
margin:0;
background: radial-gradient(circle at top,#1b0f2e,#090012 70%);
color:white;
overflow:hidden;
font-family:'Poppins',sans-serif;
}

/* Loading Screen */
#loading{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#ff6ec7,#ff9a9e);
z-index:9999;
}

#countdown{
font-size:50px;
font-weight:bold;
background:rgba(255,255,255,.25);
padding:15px 30px;
border-radius:20px;
}

/* Main Title */
h1.title{
font-family:'Great Vibes',cursive;
font-size:70px;
text-align:center;
margin-top:80px;
text-shadow:0 0 20px #ffb6ff;
display:none;
}

/* Fireworks canvas */
canvas{
position:fixed;
top:0;
left:0;
}

/* Polaroid */
.polaroid{
position:absolute;
width:220px;
background:white;
padding:10px 10px 20px;
border-radius:8px;
box-shadow:0 15px 40px rgba(0,0,0,.5);
opacity:0;
animation:fadein 1s forwards;
}

.polaroid img, .polaroid video{
width:100%;
height:170px;
object-fit:contain;
background:black;
border-radius:4px;
}

@keyframes fadein{
from{opacity:0; transform:scale(.7) rotate(-10deg);}
to{opacity:1; transform:scale(1) rotate(3deg);}
}

/* Letter */
#letter{
position:fixed;
inset:0;
background:rgba(0,0,0,.7);
display:none;
justify-content:center;
align-items:center;
z-index:9999;
}


#card{
background:#fff;
color:#333;
max-width:600px;
padding:30px;
border-radius:20px;
line-height:1.7;
}

button{
margin-top:15px;
padding:10px 18px;
border:none;
background:#ff4fa3;
color:white;
border-radius:12px;
cursor:pointer;
}
</style>
</head>

<body>

<div id="loading">
<h2>Counting moments for you ‚ù§Ô∏è</h2>
<div id="countdown">00:00:00</div>
</div>

<canvas id="fireworks"></canvas>

<h1 class="title" id="mainTitle">
üéâ Happy Birthday Cutie üéâ
</h1>

<div id="letter">
<div id="card">
<p>Hey‚Ä¶</p>
<p>I know I don‚Äôt always say things perfectly because I‚Äôm a little shy‚Ä¶ but you are honestly one of the most special parts of my life.</p>
<p>You make my normal days feel important and my bad days feel easier. Even small moments with you stay in my head for a long time.</p>
<p>I don‚Äôt need big reasons to like you‚Ä¶ I just like you the way you are ‚Äî your smile, your moods, your silence, everything.</p>
<p>I just hope I can always be someone who makes you smile.</p>
<p>Happy Birthday üíó</p>
<p><b>‚Äî Yours, Oldiee</b></p>
<button onclick="document.getElementById('letter').style.display='none'">Close</button>
</div>
</div>

<script>
let paused = false;
let slideshowTimer = null;
let currentMemory = null;

/* ---------------- BIRTHDAY TIME ---------------- */
let birthday = new Date();
birthday.setSeconds(birthday.getSeconds() + 10);
 // test 10 seconds

const loading=document.getElementById("loading");
const title=document.getElementById("mainTitle");

/* ---------------- START EXPERIENCE ---------------- */
function start(){
loading.style.display="none";

/* show title */
title.style.display="block";
title.style.position="fixed";
title.style.top="40px";
title.style.left="50%";
title.style.transform="translateX(-50%)";
title.style.zIndex="5";

launchFireworks();
startPhotos();

/* open letter on tap */
document.body.addEventListener("click",()=>{
paused = true;
clearTimeout(slideshowTimer);
document.getElementById("letter").style.display="flex";
},{once:true});



/* countdown */
/* ---------------- COUNTDOWN CLOCK ---------------- */
/* ---------------- WORKING COUNTDOWN ---------------- */

const cd = document.getElementById("countdown");
let started = false;

function updateCountdown(){

if(started) return;

let now = new Date().getTime();
let diff = birthday.getTime() - now;

if(diff <= 0){
started = true;
start();
return;
}

let seconds = Math.floor((diff/1000)%60);
let minutes = Math.floor((diff/1000/60)%60);
let hours = Math.floor((diff/1000/60/60)%24);

cd.textContent =
String(hours).padStart(2,"0")+":"+
String(minutes).padStart(2,"0")+":"+
String(seconds).padStart(2,"0");
}

setInterval(updateCountdown,1000);
updateCountdown();



/* ---------------- FIREWORKS ---------------- */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
function firework(){
let x=Math.random()*canvas.width;
let y=Math.random()*canvas.height/2;
for(let i=0;i<70;i++){
particles.push({
x,y,
dx:(Math.random()-.5)*6,
dy:(Math.random()-.5)*6,
life:100
});
}
}
setInterval(firework,700);

function launchFireworks(){
(function animate(){
ctx.fillStyle="rgba(0,0,0,.25)";
ctx.fillRect(0,0,canvas.width,canvas.height);
particles.forEach((p,i)=>{
p.x+=p.dx;
p.y+=p.dy;
p.life--;
ctx.fillStyle="hsl("+Math.random()*360+",100%,70%)";
ctx.fillRect(p.x,p.y,2,2);
if(p.life<=0)particles.splice(i,1);
});
requestAnimationFrame(animate);
})();
}

/* ---------------- MEMORY FILES ---------------- */
const files=[
"photos/1.jpg","photos/2.jpg","photos/3.jpg","photos/4.jpg","photos/5.jpg",
"photos/6.jpg","photos/7.jpg","photos/8.jpg","photos/9.jpg","photos/10.jpg",
"photos/11.jpg",
"photos/12.mp4","photos/13.mp4","photos/14.mp4","photos/15.mp4","photos/16.mp4"
];

/* ---------------- ONE-BY-ONE MEMORY SHOW ---------------- */
function startPhotos(){

let queue = [...files];
queue.sort(()=>Math.random()-0.5); // shuffle once
let index = 0;

function showNext(){

if(paused) return;

if(index >= queue.length) return;

let src = queue[index];
index++;

/* remove previous memory first */
if(currentMemory){
currentMemory.remove();
currentMemory = null;
}

let div=document.createElement("div");
div.className="polaroid";
div.style.zIndex="3";

let media;

if(src.endsWith(".mp4")){
media=document.createElement("video");
media.src=src;
media.autoplay=true;
media.loop=false;
media.muted=true;
media.playsInline=true;
}else{
media=document.createElement("img");
media.src=src;
}

div.appendChild(media);

/* side positioning */
let margin=260;
let side=Math.floor(Math.random()*4);

if(side==0){
div.style.top="20px";
div.style.left=Math.random()*(window.innerWidth-margin)+"px";
}
else if(side==1){
div.style.top=(window.innerHeight-260)+"px";
div.style.left=Math.random()*(window.innerWidth-margin)+"px";
}
else if(side==2){
div.style.left="20px";
div.style.top=Math.random()*(window.innerHeight-margin)+"px";
}
else{
div.style.left=(window.innerWidth-240)+"px";
div.style.top=Math.random()*(window.innerHeight-margin)+"px";
}

document.body.appendChild(div);
currentMemory = div;

/* schedule next memory */
slideshowTimer = setTimeout(showNext,7000);
}

showNext();
}

/* ---------------- LETTER ALWAYS ON TOP ---------------- */
document.getElementById("letter").style.zIndex="10";

</script>


</body>
</html>








