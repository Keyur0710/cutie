<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Cutie</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body{
margin:0;
background: radial-gradient(circle at top,#1b0f2e,#090012 70%);
color:white;
overflow:hidden;
font-family:'Poppins',sans-serif;
}

/* Loading */
#loading{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#ff6ec7,#ff9a9e);
z-index:9999;
}

#countdown{
font-size:50px;
font-weight:bold;
background:rgba(255,255,255,.25);
padding:15px 30px;
border-radius:20px;
}

/* Title */
#mainTitle{
display:none;
position:fixed;
top:40px;
left:50%;
transform:translateX(-50%);
font-family:'Great Vibes',cursive;
font-size:70px;
text-shadow:0 0 25px #ffb6ff;
z-index:5;
}

/* Fireworks */
canvas{
position:fixed;
top:0;
left:0;
z-index:0;
}

/* Polaroid */
.polaroid{
position:absolute;
width:220px;
background:white;
padding:10px 10px 20px;
border-radius:8px;
box-shadow:0 15px 40px rgba(0,0,0,.5);
z-index:3;
}

.polaroid img,.polaroid video{
width:100%;
height:170px;
object-fit:contain;
background:black;
border-radius:4px;
}

/* Letter */
#letter{
position:fixed;
inset:0;
background:rgba(0,0,0,.7);
display:none;
justify-content:center;
align-items:center;
z-index:9999;
}

#card{
background:#fff;
color:#333;
max-width:600px;
padding:30px;
border-radius:20px;
line-height:1.7;
}
</style>

</head>

<body>

<div id="loading">
<h2>Counting moments for you ‚ù§Ô∏è</h2>
<div id="countdown">00:00:10</div>
</div>

<canvas id="fireworks"></canvas>

<h1 id="mainTitle">üéâ Happy Birthday Cutie üéâ</h1>

<div id="letter">
<div id="card">
<p>Hey‚Ä¶</p>
<p>I know I‚Äôm shy with words, but you really mean a lot to me.</p>
<p>You make my simple days special and my bad days easier.</p>
<p>I like you exactly the way you are.</p>
<p>Happy Birthday üíó</p>
<p><b>‚Äî Yours, Oldiee</b></p>
<button onclick="document.getElementById('letter').style.display='none'">Close</button>
</div>
</div>

<script>

/* ---------- TIME ---------- */
let birthday=new Date();
birthday.setSeconds(birthday.getSeconds()+10); // test mode

/* ---------- COUNTDOWN ---------- */
const cd=document.getElementById("countdown");
const loading=document.getElementById("loading");
const title=document.getElementById("mainTitle");

function countdown(){
let diff=birthday-new Date();

if(diff<=0){
startExperience();
return;
}

let s=Math.floor((diff/1000)%60);
let m=Math.floor((diff/1000/60)%60);
let h=Math.floor((diff/1000/60/60)%24);

cd.textContent=
String(h).padStart(2,"0")+":"+
String(m).padStart(2,"0")+":"+
String(s).padStart(2,"0");
}
setInterval(countdown,1000);
countdown();

/* ---------- START ---------- */
let paused=false;
let current=null;

function startExperience(){
loading.style.display="none";
title.style.display="block";
launchFireworks();
startMemories();

document.body.addEventListener("click",()=>{
paused=true;
document.getElementById("letter").style.display="flex";
},{once:true});
}

/* ---------- FIREWORKS ---------- */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let particles=[];
setInterval(()=>{
for(let i=0;i<70;i++){
particles.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height/2,
dx:(Math.random()-.5)*6,
dy:(Math.random()-.5)*6,
life:100
});
}
},700);

function launchFireworks(){
(function animate(){
ctx.fillStyle="rgba(0,0,0,.25)";
ctx.fillRect(0,0,canvas.width,canvas.height);

particles.forEach((p,i)=>{
p.x+=p.dx;
p.y+=p.dy;
p.life--;
ctx.fillStyle="hsl("+Math.random()*360+",100%,70%)";
ctx.fillRect(p.x,p.y,2,2);
if(p.life<=0)particles.splice(i,1);
});

requestAnimationFrame(animate);
})();
}

/* ---------- FILES ---------- */
const files=[
"photos/1.jpg","photos/2.jpg","photos/3.jpg","photos/4.jpg","photos/5.jpg",
"photos/6.jpg","photos/7.jpg","photos/8.jpg","photos/9.jpg","photos/10.jpg",
"photos/11.jpg","photos/12.mp4","photos/13.mp4","photos/14.mp4","photos/15.mp4","photos/16.mp4"
];

/* ---------- MEMORIES ---------- */
function startMemories(){

let queue=[...files];
queue.sort(()=>Math.random()-0.5);
let i=0;

function next(){

if(paused) return;
if(i>=queue.length) return;

if(current) current.remove();

let src=queue[i++];
let div=document.createElement("div");
div.className="polaroid";

let media;
if(src.endsWith(".mp4")){
media=document.createElement("video");
media.src=src;
media.autoplay=true;
media.muted=true;
media.playsInline=true;
}else{
media=document.createElement("img");
media.src=src;
}

div.appendChild(media);

div.style.left=Math.random()*(window.innerWidth-240)+"px";
div.style.top=Math.random()*(window.innerHeight-260)+"px";

document.body.appendChild(div);
current=div;

setTimeout(next,7000);
}
next();
}

</script>

</body>
</html>
