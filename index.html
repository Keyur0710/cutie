<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Happy Birthday ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
body{
margin:0;
background:#0b0018;
overflow:hidden;
color:white;
font-family:sans-serif;
}

/* title */
#title{
position:fixed;
top:40px;
left:50%;
transform:translateX(-50%);
font-size:60px;
font-family:'Great Vibes',cursive;
z-index:5;
text-shadow:0 0 25px pink;
text-align:center;
}

/* button */
#btn{
position:fixed;
top:140px;
left:50%;
transform:translateX(-50%);
padding:15px 28px;
border:none;
border-radius:30px;
background:pink;
color:white;
font-size:18px;
z-index:6;
cursor:pointer;
}

/* letter */
#letter{
position:fixed;
inset:0;
background:rgba(0,0,0,.55);
backdrop-filter: blur(6px);
display:none;
justify-content:center;
align-items:center;
z-index:9999;
pointer-events:auto;
}

#card{
background:white;
color:#333;
max-width:600px;
padding:30px;
border-radius:20px;
line-height:1.6;
}

/* polaroid */
.polaroid{
position:absolute;
width:230px;
background:white;
padding:12px 12px 22px;
border-radius:10px;
box-shadow:0 15px 40px rgba(0,0,0,.6);
z-index:3;
}
.polaroid img,.polaroid video{
width:100%;
height:170px;
object-fit:contain;
background:black;
border-radius:6px;
}

/* fireworks */
canvas{
position:fixed;
top:0;
left:0;
pointer-events:none;
}
@media (max-width:600px){

#title{
font-size:34px;
top:20px;
}

#btn{
top:90px;
padding:12px 22px;
font-size:15px;
}

.polaroid{
width:150px;
}

.polaroid img,.polaroid video{
height:120px;
}

#card{
margin:20px;
max-width:90%;
font-size:15px;
}
}
</style>

</head>

<body>

<canvas id="fireworks"></canvas>

<div id="title">üéâ Happy Birthday Cutie üéâ</div>
<button id="btn">Open My Letter üíå</button>

<div id="letter">
<div id="card">
<h2 style="text-align:center;">HAPPIEST BIRTHDAY SHIFA ‚ù§Ô∏è</h2>

<p>HHAAPPPIIIESSSTTT BIRRTHHDAAY SHIFA ‚ù§Ô∏è, On Feb 19 2007 earth got gifted a very special person and it's you.
    My dearest Shifa,Happy 19th birthday,my love! Today I want to express how truly grateful I am to have you in my life.From the moment we met,you have captivated my heart with your beautiful laughter,kind heart,and beautiful soul.Everyday with you feels like a celebration,but on this special day,I want to shower you with all the love and affection you deserve.You bring so much joy and happiness into my life,and I am forever grateful for the love and happiness you have brought into my small world.May this birthday be the beginning of the year filled with endless love, laughter,and unforgettable memories, Happy Birthday, Cutie! 
    </p>

<!-- <p>My dearest Shifa, Happy 19th birthday my love! You make my life brighter and happier. Your smile, your kindness and your presence mean everything to me.</p> -->

<p style="text-align:center;font-size:20px;"><b>I LOVE YOU FOREVER ‚ù§Ô∏èü´∂üíã</b></p>

<p style="text-align:right;">‚Äî Yours, Oldiee üíã</p>

<button onclick="document.getElementById('letter').style.display='none'">Close</button>

</div>
</div>

<script>

/* open letter */
//let paused=false;
document.getElementById("btn").onclick=function(){
paused=true;
document.getElementById("letter").style.display="flex";
};

/* fireworks */
const c=document.getElementById("fireworks");
const x=c.getContext("2d");
c.width=innerWidth;
c.height=innerHeight;

let p=[];
setInterval(()=>{
    for(let i=0;i<18;i++){
p.push({x:Math.random()*c.width,y:Math.random()*c.height/2,dx:(Math.random()-.5)*5,dy:(Math.random()-.5)*5,l:100});
}
},700);

(function a(){
x.fillStyle="rgba(0,0,0,.2)";
x.fillRect(0,0,c.width,c.height);
p.forEach((e,i)=>{
e.x+=e.dx;
e.y+=e.dy;
e.l--;
x.fillStyle="hsl("+Math.random()*360+",100%,70%)";
x.fillRect(e.x,e.y,2,2);
if(e.l<=0)p.splice(i,1);
});
requestAnimationFrame(a);
})();

/* slideshow */
const files=[
"photos/1.jpg","photos/2.jpg","photos/3.jpg","photos/4.jpg","photos/5.jpg",
"photos/6.jpg","photos/7.jpg","photos/8.jpg","photos/9.jpg","photos/10.jpg",
"photos/11.jpg","photos/12.mp4","photos/13.mp4","photos/14.mp4","photos/15.mp4","photos/16.mp4"
];

/* ULTRA SMOOTH SLIDESHOW */
/* PRELOAD ALL MEDIA */
const preloaded = [];

files.forEach(src=>{
    if(src.endsWith(".mp4")){
        const v=document.createElement("video");
        v.src=src;
        v.preload="auto";
        v.muted=true;
        v.playsInline=true;
        preloaded.push(v);
    }else{
        const img=new Image();
        img.src=src;
        img.decoding="async";
        img.loading="eager";
        preloaded.push(img);
    }
});

let index=0;

function show(){

    if(index>=files.length) index=0;

    const src = files[index++];
    let d=document.createElement("div");
    d.className="polaroid";

    let media;

    if(src.endsWith(".mp4")){
        media=document.createElement("video");
        media.src=src;
        media.autoplay=true;
        media.loop=true;
        media.muted=true;
        media.playsInline=true;
        media.setAttribute("webkit-playsinline","");
        media.preload="auto";
    }else{
        media=document.createElement("img");
        media.src=src;
        media.decoding="async";
        media.loading="eager";
    }

    /* instant fade-in */
    d.style.opacity="0";
    d.style.transition="opacity .6s ease";

    d.appendChild(media);

    d.style.left=Math.random()*(window.innerWidth-260)+"px";
    d.style.top=Math.random()*(window.innerHeight-260)+"px";

    document.body.appendChild(d);

    requestAnimationFrame(()=>{
        d.style.opacity="1";
    });

    /* remove after some time */
    setTimeout(()=>{
        d.style.opacity="0";
        setTimeout(()=>d.remove(),600);
    },9000);

    /* NEXT PHOTO SPEED (HERE IS THE MAIN SPEED CONTROL) */
    setTimeout(show,2000);  // ‚Üê NOW 2 seconds per photo
}

show();

document.getElementById("letter").addEventListener("click",function(e){
if(e.target.id==="letter"){
this.style.display="none";
}
});
</script>

</body>
</html>

